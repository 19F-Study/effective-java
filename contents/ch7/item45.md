 # Item.45 스트림은 주의해서 사용하라.

##  Stream
 - 데이터 원소의 유한 혹은 무한 시퀀스.

## Stream Pipeline 
 - 원소들로 수행하는 연산 단계를 표한하는 개념.  
 - Source Stream -> 중간 연산 -> 종단 연산.
 - 중간 연산 : 스트림을 Transform
 - 종단 연산 : 중간 연산의 결과의 스트림에 최후의 연산
 
## 지연 평가 (Lazy Evaluation)
 - 종단 연산이 호출될때 평가가 이뤄진다.
 - 종단 연산에 쓰이지 않는 데이터원소는 계산에 쓰이지 않는다.
 - 무한 스트림을 다룰 수 있게 해주는 열쇠.
 - 종단 연산이 없는 스트림 파이프라인은 아무 일도 하지 않는 명령어와 같다.

## Fluent API << 메서드 체이닝을 통해서 가독성을 극대화?!
 - 파이프라인 하나를 구성하는 모든 호출을 연결하는 하나의 표현으로 완성 가능.

## Stream 을 제대로 사용하면 프로그램이 짧고 깔끔해지지만, 잘못 사용하면 읽기 어렵고 유지부수도 힘들어진다.
 - Anagrams 예제
 - alphabetize 또한 Stream 을 이용해서 구현할 수 있지만 char용 스트림을 지원하지 않기 때문에 잘못 구현될 가능성이 크다. => CharStream.java
 - char 값들을 처리할 때는 스트림을 삼가는 편이 낫다.
 - 기존 코드는 스트림을 사용하도록 리펠터링하되, 새 코드가 더 나아 보일 때만 반영하자.

## 함수 객채로는 할 수 없지만 코드 클록으로는 할 수 있는 일들. 
 - 코드 블록에서는 범위 안의 지역변수를 읽고 수정할 수 있다. 람다에서는 final 인 변수만 읽을 수 있고 지역변수 수정은 불가능.
 - 코드 블록에서는 return 문을 사용해서 메서드에서 빠져나가거나, break 나 continue 문으로 블록 바깥의 반복문을 종료하고나 반복을 한번 건너뛸 수 있다.
 
## 스트림이 아주 안성 맞춤인 케이스
 - 원소들의 시퀀스를 일관되게 변환한다.
 - 원소들의 시퀀스를 필터링한다.
 - 원소들의 시퀀스를 하나의 연산을 사용해 결함한다.(더하기, 연결하기, 최솟값 구하기 등)
 - 원소들의 시퀀스를 컬렉션에 모은다.
 - 원소들의 시퀀스에서 특정 조건을 만족하는 원소를 찾는다.
 
## 스트림으로 처리하기 어려운 대표적인 예
 - 한 데이터가 파이프라인의 여러 단계를 통과할 때 이 데이터의 각 단계에서의 갈들에 동시에 접근하기는 어렵다.
 - 메르센 소수 예제

## Stream vs Loop

?? 함꼐 리펙토링 해보기 ??
SFCC.java


